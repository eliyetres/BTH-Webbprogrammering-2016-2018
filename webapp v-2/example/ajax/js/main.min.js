!function(){"use strict";$("#header").toolbar(),$("#menu").panel().enhanceWithin(),window.getMarvinQuoteByAjax=function(){$.ajax({url:"https://dbwebb.se/repo/javascript/example/lekplats/get-going-with-jquery-ajax/quote.php",dataType:"json",success:function(e){$("#quote").fadeOut(function(){$("#quote").html(e.quote).fadeIn()}),console.log(".ajax() request returned successfully.")},error:function(e,t,a){console.log(".ajax() request failed: "+t+", "+a)}})};var e=document.getElementById("ajax");e.addEventListener("click",window.getMarvinQuoteByAjax),window.getMarvinQuoteByGetJSON=function(){var e="https://dbwebb.se/repo/javascript/example/lekplats/get-going-with-jquery-ajax/quote.php";$.getJSON(e,function(e){$("#quote").fadeOut(function(){$("#quote").html(e.quote).fadeIn()}),console.log(".getJSON() request returned successfully.")})};var t=document.getElementById("getjson");t.addEventListener("click",window.getMarvinQuoteByGetJSON);var a=null;$(document).on("pagebeforeshow","#af-totalt",function(){return null!==a?void window.updateAFTotal():void $.ajax({url:"../arbetsformedlingen/soklista_lan.json",dataType:"json",success:function(e){a=e,window.updateAFTotal()},error:function(){console.log("Network error has occurred please try again!")}})}),window.updateAFTotal=function(){var e=document.getElementById("totalt_antal_ledigajobb"),t=document.getElementById("totalt_antal_platsannonser");console.log("Update AFTotal"),console.log(a),e.innerHTML=a.soklista.totalt_antal_ledigajobb,t.innerHTML=a.soklista.totalt_antal_platsannonser},window.updateAFList=function(){var e=document.getElementById("af-listview"),t="";console.log("Update AFList"),a.soklista.sokdata.forEach(function(e){t+="<li><a href='#af-lista-"+e.id+"'>"+e.namn+" ("+e.antal_ledigajobb+" lediga jobb)</a></li>"}),e.innerHTML=t,$("#af-listview").listview("refresh")},window.updateAFSubPage=function(e){var t=document.getElementById("af-undersida"),n="Specified page id not found.";console.log("Update AF subpage with content"),console.log(a.soklista.sokdata),a.soklista.sokdata.forEach(function(t){return t.id==e?void(n="<h1>"+t.namn+"</h1><p>Det finns "+t.antal_ledigajobb+" lediga jobb och "+t.antal_platsannonser+" platsannonser.</p>"):void 0}),t.innerHTML=n},$(document).on("pagebeforeshow","#af-lista",function(){return null!==a?void window.updateAFList():(console.log("Retrieving AF JSON"),void $.ajax({url:"../arbetsformedlingen/soklista_lan.json",dataType:"json",success:function(e){a=e,window.updateAFList()},error:function(){console.log("Network error has occurred please try again!")}}))});var n=null;$(document).on("pagebeforeshow","#af-sida",function(){console.log("AF subpage id: "+n),window.updateAFSubPage(n)}),$("body").on("pagecontainerbeforechange",function(e,t){var a=t.toPage,o=t.options.fromPage;if("string"==typeof a){var i,l=$.mobile.path.parseUrl(a);a=l.hash||"#"+l.pathname.substring(1),o&&(o="#"+o.attr("id"));var s="#af-lista-".length;i=a.substring(0,s),"#af-lista"===o&&"#af-lista-"===i&&(e.preventDefault(),e.stopPropagation(),n=a.substring(s),console.log("Subpageid = "+n),$(":mobile-pagecontainer").pagecontainer("change","#af-sida"))}}),console.log("Ready")}();
